<div class="modal-background">
  <div class="modal-body">
    <form [formGroup]="form">
      <div class="modal-top">
        <h2 class="modal-title">Add Child</h2>
        <button mat-icon-button (click)="cancel()" type="button" class="btn-close">
          <mat-icon aria-hidden="false" aria-label="close">close</mat-icon>
        </button>
      </div>
      <mat-progress-bar mode="indeterminate" *ngIf="isSubmitted"></mat-progress-bar>

      <div class="modal-form">
        <app-input-text name="full_name" [formName]="form" label='full name'></app-input-text>
        <app-input-text name="nick_name" [formName]="form" label='nick name'></app-input-text>
        <app-select-instant name="gender_id" [formName]="form" [options]="genderOptions$ | async" label="gender">
        </app-select-instant>
        <app-input-text name="order" [formName]="form" type="number" label="Order"></app-input-text>
        <app-input-text name="birth_place" [formName]="form" label="birth place"></app-input-text>
        <app-input-date name="birth_date" [formName]="form" label="birth date"></app-input-date>
        <div class="checkbox-container">
          <app-checkbox name="has_bpjs_kesehatan" [formName]="form" label='has bpjs kesehatan'
            [affectedFields]="cbHasBpjsKesehatan"></app-checkbox>
        </div>
        <app-input-text name="bpjs_kesehatan_number" [formName]="form" type="number" label="BPJS kesehatan number"
          ignore-label-case>
        </app-input-text>
        <app-input-date name="bpjs_kesehatan_date" [formName]="form" label="BPJS kesehatan date" ignore-label-case>
        </app-input-date>
        <app-select-instant name="bpjs_kesehatan_class" [formName]="form" [options]="bpjs_kesehatan_classes"
          label="BPJS kesehatan class" ignore-label-case></app-select-instant>
      </div>

      <div class="modal-action">
        <button mat-raised-button color="primary" type="submit" [disabled]="isSubmitted " (click)="onSubmit(true)">
          Save & Close
        </button>
        <button mat-raised-button color="primary" type="submit" [disabled]="isSubmitted " (click)="onSubmit(false)">
          Save
        </button>
        <button mat-stroked-button color="primary" type="button" [disabled]="isSubmitted" (click)="cancel()">
          Cancel
        </button>
      </div>
    </form>
  </div>
</div>
